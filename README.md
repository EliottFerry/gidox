# gidox

Welcome to my custom compiler !
I've taken interest in creating a compiler for several weeks, so I thought maybe now is the good time to start.

## Why ?

### Why am I creating my own compiler

It's pretty simple actually, I came across a youtube video about how compiler worked, and I got hooked into it. I found it fascinating how it's possible to create the language that you want, given the right knowledge.

### Why I write it in C ?

C is the first language that I really did intense programming with, and at first, I was pretty bad at it, like most people I believe. I switched to C++ and really enjoyed it, but after going back to C as a teacher, it felt so good having so much freedom and understanding al the program that I did afterwards. I really do enjoy the language.

## Dependencies

Here is all the dependencies you need to install to make the compiler work on Ubuntu 22.04:

```sh
    sudo apt update
    sudo apt upgrade
    sudo apt install nasm
    sudo apt install build-essential
    sudo apt install make
```

## How does it work ?

Since it still the first version of the compiler, I'm only implementing basics such as return `values`, `variables` and `print`.

The extension of the files are `.gid`

### Syntaxe

The syntaxe is similar as the one in C language. Lignes end with a semi-column, and the code is not indentation-based like Python.

### Comments

Comments can be created using `#`, everything after it will be ignored

```
# I am a comment
```

### Variables

There is 2 types of variables, `number` and `string` that you can create in such a way:

```
number a = 5;
number b = (2 + 3);

string c = "Hello world!";
```

### Builtin functions

There is 2 basics functions that will be provided `show` and `return`

```
number a = 5;
string b = "Hello world!";

show (a); # This will print: 5
show (b); # This will print: Hello world!
return (a); # The exit value of the program will be: 5
```

## How to run it

You'll find a `Makefile` in the root of the project. You just have to run the command `make` to generate an executable called `gidox`.

You'll find example files in the folder `examples` that you can use in this way:

```
./gidox examples/simple/simple_add.gid
```

This will generate a `build` folder, in which you can find the compiled ASM generated by the compiler.

To create an executable, we will use NASM compiler and GNU linker. Here are the steps to create it.

```sh
nasm -f elf-64 [asm-file].asm
ld -s -o [executable-name] [compiled].o
```

Instead, you can also use the provided `compile.sh` in this way:

```sh
./compile.sh [executable-name] [gidox-file].gid
```

This will generate the ASM file in the `build` folder, and create the executable with the name you provided.